# 设备上传



## 方案一：

### 接口1：设备上传信息绑定

上传信息json包括

设备序列号+设备ip

这些信息可以约定好用哪种双向加密方式

云端只会返回上传失败或者上传成功：

这块云端会做校验，例如：

设备已经绑定过IP后不可以上传，如果一定要重复绑定必须由管理员修改设备状态才能重复绑定

### 接口2：设备上传信息

上传信息：设备序列号+设备数据信息

同样是用双向加密来加密数据



## 方案二：

### 接口1：设备上传信息绑定

上传信息json包括

设备序列号+设备mac地址+设备ip

这些信息可以约定好用哪种双向加密方式

云端会返回上传失败或者上传成功

如果上传成功会给设备下发一段字符串，俗称公钥

设备需记住这段字符串才行

### 接口2：设备上传信息

设备序列号+设备数据信息+数字签名

同样是双向加密加密数据

设备上传数据需要用哈希算法算出一段字符串，之后由接口1下发的公钥进行加密得出数字签名

云端获取数据后除了会对IP进行校验，还会对解密后的设备上传数据与数字签名进行哈希校验

